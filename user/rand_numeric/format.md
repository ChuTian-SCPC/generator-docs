在随机数生成函数中，支持将一个表示随机范围的`std::string`作为参数传递给生成函数，字符串需要满足格式是表示一个区间范围。

### 整数范围

区间应该以左括号`[`或`(`开头，右括号`]`或`)`结尾，中间用逗号`,`分隔。

#### 示例

- 左闭右闭区间：`[x, y]` ：表示随机的整数$x \le n \le y$。
- 左闭右开区间：`[x, y)` ：表示随机的整数$x \le n \lt y$。
- 左开右闭区间：`(x, y]` ：表示随机的整数$x \lt n \le y$。
- 左开右开区间：`(x, y)` ：表示随机的整数$x \lt n \lt y$。

**注意**：

如果区间里面的数是小数，则会先强转成整型，再考虑开闭区间。

比如`[1, 3.2)`表示随机整数的范围是$1\le n \lt 3$。

### 浮点数范围

浮点数范围的格式与整数范围相同，只是浮点数范围的数可以是小数。

#### 科学计数法

小数的格式还支持科学计数法，用`e`或者`E`表示。

比如`1e-3`表示$10^{-3}$，`1.23E-3`表示$1.23\times 10^{-3}$。

#### 精度

并且浮点数有一个精度值`accuracy`。

由于随机浮点数的值只能够是左闭右开的区间，所以通过精度可以控制生成的数在精度要求下满足条件。

精度表示描述小数点后准确的位数$a$，表示为$10^{-a}$，最少是$10^0$。

比如`1.23`的精度是$10^{-2}$，`1e-3`的精度是$10^{-3}$，`1.23e-3`的精度是$10^{-5}$。

对于区间的精度，取两个端点的精度的最大值。

#### 示例

用$a$表示精度，记$e_1 = 10^{-a}$， $e_2 = 10^{-(a+1)}$。

- 左闭右闭区间：`[x, y]` ：表示随机的浮点数$x \le n \lt y+e_2$。
- 左闭右开区间：`[x, y)` ：表示随机的浮点数$x \le n \lt y$。
- 左开右闭区间：`(x, y]` ：表示随机的浮点数$x+e_1 \le n \lt y+e_2$。  
- 左开右开区间：`(x, y)` ：表示随机的浮点数$x+e_1 \le n \lt y$。

例如，区间`(1.2, 2.34]`将被转换为$[1.210,2.341)$的随机数生成范围，它的精度为$10^{-2}$，在输出时保留$2$位小数则满足区间所限制的范围。

### C风格格式化

如果需要使用C风格的格式化，可以参考[C风格格式化](/user/tools/tools.md#字符串格式化)。

#### 示例

```cpp
#include "generator.h"
using namespace std;
using namespace generator::all;

int main() {
    init_gen();
    int n = rand_int(1, 10); // 生成一个1到10的随机整数
    int x = rand_int(string_format("[1, %d]", n)); // 生成一个1到n的随机整数，n为上面生成的随机整数
    // 比如n = 2, x = rand_int("[1, 2]")是等价的
    cout << n << " " << x << endl;
    return 0;  
}
```